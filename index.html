<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Create groups of ggplot2 layers that can be easily migrated from
    one plot to another, reducing redundant code and improving the ability to
    format many plots that draw from the same source ggpacket layers.">
<title>Package Plot Layers for Easier Portability and Modularization • ggpackets</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Package Plot Layers for Easier Portability and Modularization">
<meta property="og:description" content="Create groups of ggplot2 layers that can be easily migrated from
    one plot to another, reducing redundant code and improving the ability to
    format many plots that draw from the same source ggpacket layers.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ggpackets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/ggpackets.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/composing-functions.html">Composing Templates &amp; Functions</a>
    <a class="dropdown-item" href="articles/miscellaneous-examples.html">Miscellaneous Examples</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ggpackets-">ggpackets <img src="reference/figures/ggpackets-hex-small.png" align="right" width="134px"><a class="anchor" aria-label="anchor" href="#ggpackets-"></a>
</h1></div>

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Take a look at the <strong><a href="https://dgkf.github.io/ggpackets/" class="external-link">ggpackets project page</a></strong>!</p>
<p>Easily build components of ggplots without sacrificing the ease of ggplot’s layer parameters and construction syntax.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p><code>ggpackets</code> is not yet available on CRAN. Until it is, you can install the most recent development version using the short script below:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'dgkf/ggpackets'</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="get-involved">Get Involved<a class="anchor" aria-label="anchor" href="#get-involved"></a>
</h2>
<p>There are plenty of ways to help contribute:</p>
<ol style="list-style-type: decimal">
<li><p><strong>File issues!</strong><br>
Found a bug? Think the syntax looks ugly? Don’t like the name? Tell me! <a href="https://github.com/dgkf/ggpackets/issues" class="external-link">Issues</a> are the best way to start the conversation.</p></li>
<li><p><strong>Write documentation!</strong><br>
More resources always helps. Found a function unintuitive? Example code and improved function descriptors would be helpful. If you use the package and would feel comfortable writing about a topic not yet covered in a vignette, feel free to contribute a new vignette for it.</p></li>
<li><p><strong>Write Unit Tests!</strong><br>
There’s some pretty sophisticated manipulations going on under the hood to make everything as clean as possible, because of that it’s important to make sure everything stays working the way we expect it to. Unit test contributions always welcome!</p></li>
<li><p><strong>Contribute Code!</strong><br>
Last but not least, code contributors are welcome. Reach out and get in touch if you’re passionate about the goal of the project.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>Define common ggplot layer sets together into a singled object. Connect all your plots with a single plot component definition and debug one central location. Build beautiful templates and save them once, reuse them easily and without having to abandon the ggplot construction framework.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ggpk_box_and_scatter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggpacket.html">ggpacket</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span>position <span class="op">=</span> <span class="fu">position_jitter</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span>outlier.shape <span class="op">=</span> <span class="cn">NA</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_text</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">'summary'</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, fun.data <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">0.75</span>, names <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/IQR.html" class="external-link">IQR</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_linedraw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">scale_color_distiller</span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span></span></code></pre></div>
<p>Now we can use that template repeatedly with a much simpler ggplot call</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">diamonds</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cut</span>, y <span class="op">=</span> <span class="va">price</span>, color <span class="op">=</span> <span class="va">carat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggpk_box_and_scatter</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">'Diamond price distribution by cut'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/18220321/98409555-f0298b80-2027-11eb-83f9-b2d208e1c037.png" width="600px" height="400px" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="handle-custom-arguments--parameter-propagation">Handle custom arguments &amp; parameter propagation<a class="anchor" aria-label="anchor" href="#handle-custom-arguments--parameter-propagation"></a>
</h2>
<p>In addition to simply wrapping multiple <code>ggplot2</code> layers, <code>ggpackets</code> can streamline a number of complicated plotting scenarios such as passing arguments to sets of layers, setting default argument values with scoped overrides, routing aesthetic mappings to be reused within specific layers for other aesthetics and scoping data usage over a set of layers.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ggpk_labelled_heatmap</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="reference/ggpacket.html">ggpacket</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>    <span class="fu">geom_tile</span><span class="op">(</span>.id <span class="op">=</span> <span class="st">'tile'</span>, color <span class="op">=</span> <span class="cn">NA</span>, <span class="va">...</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span> </span>
<span>    <span class="fu">geom_text</span><span class="op">(</span>.id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"text1"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, </span>
<span>      fontface <span class="op">=</span> <span class="st">"bold"</span>, <span class="va">...</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>    <span class="fu">geom_text</span><span class="op">(</span>.id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"text2"</span><span class="op">)</span>, </span>
<span>      <span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"(%.1f)"</span>, <span class="va">..fill..</span><span class="op">)</span><span class="op">)</span>, </span>
<span>      color <span class="op">=</span> <span class="st">"black"</span>, vjust <span class="op">=</span> <span class="fl">1.1</span>, <span class="va">...</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>    <span class="fu">theme_void</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span> </span></code></pre></div>
<p>In this function we make use of a number of these specialized behaviors.</p>
<ol style="list-style-type: decimal">
<li>
<code>.id</code> parameters are set to tag specific layers with an identifier, which can be used to prefix arguments to route them to a subset of the <code>ggpacket</code> layers. Multiple IDs can be used, and arguments will filter down into that layer if they match any of the provided IDs.</li>
<li>Ellipsis are first passed to <code>ggpacket(...)</code>, which will pass them on as default values to all <code>ggpacket</code> layers.</li>
<li>Ellipsis are also passed at the tail end of each layer call, allowing arguments to mask default values. The placement of the ellipsis determines whether arguments will override or be overridden by the existing parameters. After expanding the ellipsis, the last instance of each argument is used to build the call.</li>
<li>Aesthetics are rerouted using the specialized <code>..&lt;aesthetic&gt;..</code> syntax.</li>
<li>We use <code>%+%</code> instead of the commonly-used <code>+</code> to add layers together, which allows <code>ggpackets</code> to accept non-standard arguments before ggplot sends us warnings about them.</li>
</ol>
<!-- end list --><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">OrchardSprays</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">rowpos</span>, y <span class="op">=</span> <span class="va">colpos</span>, label <span class="op">=</span> <span class="va">treatment</span>, fill <span class="op">=</span> <span class="va">decrease</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggpk_labelled_heatmap</span><span class="op">(</span>text.color <span class="op">=</span> <span class="st">"white"</span>, text2.alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">'Honeybee population decline in repellent trial grid'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/18220321/98409633-12230e00-2028-11eb-87c9-163156f03514.png" width="600px" height="400px" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ggpackets</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Doug Kelkhoff <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Doug Kelkhoff.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
